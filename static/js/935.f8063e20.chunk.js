"use strict";(self.webpackChunkfirst_project=self.webpackChunkfirst_project||[]).push([[935],{935:(e,n,t)=>{t.r(n),t.d(n,{default:()=>m});var o=t(43),i=t(216);class r extends Error{}function l(e){let n=e.replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:n+="==";break;case 3:n+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function(e){return decodeURIComponent(atob(e).replace(/(.)/g,((e,n)=>{let t=n.charCodeAt(0).toString(16).toUpperCase();return t.length<2&&(t="0"+t),"%"+t})))}(n)}catch(t){return atob(n)}}r.prototype.name="InvalidTokenError";const c=(0,o.createContext)(null);function d(e){let{clientId:n,nonce:t,onScriptLoadSuccess:i,onScriptLoadError:r,children:l}=e;const d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{nonce:n,onScriptLoadSuccess:t,onScriptLoadError:i}=e,[r,l]=(0,o.useState)(!1),c=(0,o.useRef)(t);c.current=t;const d=(0,o.useRef)(i);return d.current=i,(0,o.useEffect)((()=>{const e=document.createElement("script");return e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,e.nonce=n,e.onload=()=>{var e;l(!0),null===(e=c.current)||void 0===e||e.call(c)},e.onerror=()=>{var e;l(!1),null===(e=d.current)||void 0===e||e.call(d)},document.body.appendChild(e),()=>{document.body.removeChild(e)}}),[n]),r}({nonce:t,onScriptLoadSuccess:i,onScriptLoadError:r}),s=(0,o.useMemo)((()=>({clientId:n,scriptLoadedSuccessfully:d})),[n,d]);return o.createElement(c.Provider,{value:s},l)}function s(){const e=(0,o.useContext)(c);if(!e)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return e}function u(e){var n;return null!==(n=null===e||void 0===e?void 0:e.clientId)&&void 0!==n?n:null===e||void 0===e?void 0:e.client_id}const a={large:40,medium:32,small:20};function v(e){let{onSuccess:n,onError:t,useOneTap:i,promptMomentNotification:r,type:l="standard",theme:c="outline",size:d="large",text:v,shape:p,logo_alignment:f,width:g,locale:h,click_listener:m,containerProps:w,...k}=e;const y=(0,o.useRef)(null),{clientId:S,scriptLoadedSuccessfully:b}=s(),E=(0,o.useRef)(n);E.current=n;const _=(0,o.useRef)(t);_.current=t;const I=(0,o.useRef)(r);return I.current=r,(0,o.useEffect)((()=>{var e,n,t,o,r,s,a,w,x;if(b)return null===(t=null===(n=null===(e=null===window||void 0===window?void 0:window.google)||void 0===e?void 0:e.accounts)||void 0===n?void 0:n.id)||void 0===t||t.initialize({client_id:S,callback:e=>{var n;if(!(null===e||void 0===e?void 0:e.credential))return null===(n=_.current)||void 0===n?void 0:n.call(_);const{credential:t,select_by:o}=e;E.current({credential:t,clientId:u(e),select_by:o})},...k}),null===(s=null===(r=null===(o=null===window||void 0===window?void 0:window.google)||void 0===o?void 0:o.accounts)||void 0===r?void 0:r.id)||void 0===s||s.renderButton(y.current,{type:l,theme:c,size:d,text:v,shape:p,logo_alignment:f,width:g,locale:h,click_listener:m}),i&&(null===(x=null===(w=null===(a=null===window||void 0===window?void 0:window.google)||void 0===a?void 0:a.accounts)||void 0===w?void 0:w.id)||void 0===x||x.prompt(I.current)),()=>{var e,n,t;i&&(null===(t=null===(n=null===(e=null===window||void 0===window?void 0:window.google)||void 0===e?void 0:e.accounts)||void 0===n?void 0:n.id)||void 0===t||t.cancel())}}),[S,b,i,l,c,d,v,p,f,g,h]),o.createElement("div",{...w,ref:y,style:{height:a[d],...null===w||void 0===w?void 0:w.style}})}var p=t(35),f=t(687),g=t(221),h=t(579);function m(){const[e,n]=(0,o.useState)(null),[t,c]=(0,o.useState)(null),{login:s}=(0,f.A)(),u=(0,i.Zp)(),{setItem:a}=(0,p.A)();return(0,o.useEffect)((()=>{if(t){const e=function(e,n){if("string"!==typeof e)throw new r("Invalid token specified: must be a string");n||(n={});const t=!0===n.header?0:1,o=e.split(".")[t];if("string"!==typeof o)throw new r(`Invalid token specified: missing part #${t+1}`);let i;try{i=l(o)}catch(c){throw new r(`Invalid token specified: invalid base64 for part #${t+1} (${c.message})`)}try{return JSON.parse(i)}catch(c){throw new r(`Invalid token specified: invalid json for part #${t+1} (${c.message})`)}}(t);n({name:`${e.given_name} ${e.family_name}`,email:e.email,picture:e.picture,token:"DUMMY_TOKEN"})}}),[t]),(0,o.useEffect)((()=>{e&&(e.name&&a(g.A.name,e.name),e.email&&a(g.A.email,e.email),e.picture&&a(g.A.picture,e.picture),e.token&&s(e.token),u("/admin"))}),[s,u,a,e]),(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{children:"Auth Page"}),(0,h.jsx)(d,{clientId:"1082292012220-is6f0fjg50tjre0kslu2m84ut18h2vro.apps.googleusercontent.com",children:(0,h.jsx)("div",{children:(0,h.jsx)(v,{buttonText:"Login with Google",cookiePolicy:"single_host_origin",onSuccess:e=>{c(e.credential)},onError:()=>console.log("Login Failed")})})})]})}}}]);
//# sourceMappingURL=935.f8063e20.chunk.js.map